<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For My LifeTime ğŸ’–</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;600&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Kalam:wght@400;700&display=swap" rel="stylesheet">


<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: "Poppins", sans-serif;
}

body {
  height: 100vh;
  background: #fff1f5;
  display: flex;
  justify-content: center;
  align-items: center;
}
/*
.card {
  background: #ffc0d6;
  width: 95%;
  max-width: 950px;
  padding: 80px;
  border-radius: 30px;
  text-align: center;
  box-shadow: 0 25px 50px rgba(0,0,0,0.15);
}*/

.card {
  background: #ffc0d6;
  width: 95%;
  max-width: 950px;
  padding: 80px;
  border-radius: 30px;
  text-align: center;
  box-shadow: 0 25px 50px rgba(0,0,0,0.15);
  position: relative;
  overflow: hidden;
}

.hidden { display: none; }
.hidden {
  display: none !important;
}

.teddy img, .teddy1 img {
  width: 180px;
  cursor: pointer;
  transition: transform 0.3s ease;
}

.teddy img:hover, .teddy1 img:hover {
  transform: scale(1.1);
}

h1 {
  color: #5a0f2e;
  margin: 15px 0;
}

p {
  color: #6b1b3a;
  font-size: 14px;
  margin-bottom: 25px;
}

.buttons {
  display: flex;
  gap: 15px;
  justify-content: center;
}

button {
  border: none;
  padding: 12px 24px;
  border-radius: 25px;
  cursor: pointer;
  transition: all 0.4s ease;
}

#yes {
  background: #ff4d6d;
  color: white;
  font-weight: bold;
}

#no {
  background: #3a86ff;
  color: white;
}

/* YES growth stages */
.big {
  transform: scale(1.3);
}

.bigger {
  transform: scale(1.6);
}

.full {
  width: 80%;
} 
/* Gift Button */
.red-btn {
  background: #ff0033;
  color: white;
  margin-top: 20px;
}

/* ğŸ Gifts */
.gifts {
  display: flex;
  gap: 60px;
  margin-top: 60px;
  justify-content: center;
}

.gift {
  background: #ffefef;
  padding: 40px;
  border-radius: 20px;
  cursor: pointer;
  transition: 0.3s;
}

.gift img {
  width: 120px;
}

.gift:hover {
  transform: scale(1.15);
  box-shadow: 0 10px 25px rgba(0,0,0,0.3);
}

/* ğŸ’˜ Quiz */
.quiz-box {
  background: #ffe6ef;
  padding: 40px;
  border-radius: 20px;
}

.quiz-box label {
  display: block;
  background: #fff;
  padding: 12px;
  border-radius: 15px;
  margin: 10px 0;
  cursor: pointer;
}

.back-btn {
  background: #ff0033;
  color: white;
  margin-top: 20px;
}

/* â¤ï¸ Quiz options */
.quiz-option {
  background: #fff;
  padding: 14px;
  border-radius: 15px;
  margin: 10px 0;
  cursor: pointer;
  transition: 0.3s;
  border: 2px solid transparent;
}

.quiz-option:hover {
  background: #ff0033;
  color: white;
}

.quiz-option.correct {
  background: #ff4d6d;
  color: white;
}

.back-btn {
  background: #ff0033;
  color: white;
  margin-top: 20px;
}

/* Love Letter*/
/* ğŸ“œ Vintage Love Letter */
.letter-box {
  background: #f8ecd4;
  padding: 15px;
  border-radius: 20px;
  max-width: 1000px;
  margin: auto;
  box-shadow: inset 0 0 30px rgba(0,0,0,0.15),
              0 20px 40px rgba(0,0,0,0.2);
  border: 2px solid #d6b98c;
}

.letter-box h1 {
  font-family: "Georgia", serif;
  color: #5a0f2e;
  margin-bottom: 25px;
}

.letter-text {
    font-family: 'Kalam', cursive;
  font-size: 16px;
  line-height: 1.9;
  color: #3f2a1d;
  text-align: left;
  font-weight: 510;  
}
#page6 {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  padding: 16px;
}
#page6 {
  position: fixed;          /* ğŸ”¥ stops layout inheritance */
  inset: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  background: transparent;  /* keep your background */
}

.letter-box {
  width: 90%;
  max-width: 420px;
  height: auto;             /* ğŸ”’ KEY LINE */
  max-height: 70vh;
  padding: 22px;
  border-radius: 22px;
  background: #fff0f5;
  box-shadow: 0 20px 40px rgba(255, 0, 100, 0.25);

  display: flex;
  flex-direction: column;
}

.letter-scroll {
  flex: 1;                 /* takes remaining space */
  overflow-y: auto;        /* ğŸ“œ scrolls */
  margin: 12px 0;
  padding-right: 6px;
}

.letter-text {
  line-height: 1.7;
  color: #5a1a2d;
}



/* ğŸ–¼ï¸ Gallery */
.gallery {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 20px;
  margin: 30px 0;
}

.photo-frame {
  background: #fff;
  padding: 10px;
  border-radius: 12px;
  border: 4px solid #d6b98c;
  box-shadow: 0 8px 20px rgba(0,0,0,0.25);
  transition: transform 0.2s ease;
}

.photo-frame img {
  width: 100%;
  border-radius: 8px;
}

/* Shake animation */
.photo-frame:hover {
  animation: shake 0.4s infinite;
}

@keyframes shake {
  0% { transform: rotate(0deg); }
  25% { transform: rotate(1deg); }
  50% { transform: rotate(0deg); }
  75% { transform: rotate(-1deg); }
  100% { transform: rotate(0deg); }
}

/* ğŸ“± Mobile gallery */
@media (max-width: 768px) {
  .gallery {
    grid-template-columns: repeat(2, 1fr);
  }
}
@media (max-width: 480px) {
  .letter-box {
    max-height: 65vh;
    padding: 16px;
  }
}


/*Mobile Optimization*/
/* ğŸ“± Mobile Optimization */
@media (max-width: 768px) {

body {
  align-items:center;
  padding: 20px 20px;
}

.card {
  width: 90%;
  padding: 20px;
  border-radius: 20px;
}

h1 {
  font-size: 20px;
}

p {
  font-size: 14px;
}

.teddy img,
.teddy1 img {
  width: 120px;
}

.buttons {
  flex-direction: column;
  gap: 12px;
}

button {
  width: 100%;
  font-size: 16px;
}

.gifts {
  flex-direction: column;
  gap: 20px;
  margin-top: 5px;
}

.gift {
  padding: 15px;
}

.gift img {
  width: 90px;
}

/* Quiz */
.quiz-box {
  padding: 25px;
}

.quiz-option {
  font-size: 15px;
}

/* Love Letter */


.letter-box {
  padding: 15px;
}

.letter-text {
  font-size: 16px;
  line-height: 1.8;
}
}

/* ğŸ“¸ Polaroid Gallery */



.gallery {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 20px;
  margin: 10px 10px;
}

.photo-frame {
  background: #fff;
  padding: 12px 12px 15px;
  border-radius: 6px;
  box-shadow: 0 12px 25px rgba(0,0,0,0.3);
  text-align: center;
  transition: transform 0.2s ease;
  cursor: pointer;
}

.photo-frame img {
  width: 100%;
  border-radius: 4px;
}

.photo-frame span {
  display: block;
  margin-top: 1px;
  font-family: 'Kalam', cursive;
  font-size: 14px;
  color: #333;
}

/* ğŸï¸ Tilt styles */
.tilt1 { transform: rotate(-4deg); }
.tilt2 { transform: rotate(3deg); }
.tilt3 { transform: rotate(-2deg); }
.tilt4 { transform: rotate(4deg); }
.tilt5 { transform: rotate(-3deg); }
.tilt6 { transform: rotate(2deg); }

/* Shake on hover */
.photo-frame:hover {
  animation: shakePolaroid 0.4s infinite;
}

@keyframes shakePolaroid {
  0% { transform: rotate(0deg) translateX(0); }
  25% { transform: rotate(1deg) translateX(1px); }
  50% { transform: rotate(0deg) translateX(0); }
  75% { transform: rotate(-1deg) translateX(-1px); }
  100% { transform: rotate(0deg) translateX(0); }
}

/* ğŸ“± Mobile */
@media (max-width: 768px) {
  .gallery {
    grid-template-columns: repeat(2, 1fr);
  }
}
/* ğŸ–¤ Fullscreen Viewer */
.image-viewer {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.85);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 999;
  animation: fadeIn 0.4s ease;
}

.image-viewer img {
  max-width: 90%;
  max-height: 85%;
  border-radius: 12px;
  box-shadow: 0 20px 50px rgba(0,0,0,0.5);
}

.close-viewer {
  position: absolute;
  top: 20px;
  right: 30px;
  font-size: 40px;
  color: white;
  cursor: pointer;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to   { opacity: 1; }
}

/* Fix YES / NO button alignment on mobile */
@media(max-width: 768px){
#page1 .buttons {
  align-items: center;
}

#page1 button {
  width: 90%;
  max-width: 260px;
  margin: 0 auto;
}

/* Prevent scaling from breaking layout */
#page1 button.big,
#page1 button.bigger,
#page1 button.full {
  transform-origin: center;
}
};

.hidden {
  display: none !important;
}

#secretMsg {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.75);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
}

.teddy img:active {
  transform: scale(1.15);
}


#lockScreen input {
  padding: 12px;
  border-radius: 20px;
  border: none;
  width: 70%;
  text-align: center;
}

/*Breadth*/
@keyframes breathe {
  0%   { background-color: #fff1f5; }
  50%  { background-color: #ffd6e5; }
  100% { background-color: #fff1f5; }
}

body {
  animation: breathe 6s ease-in-out infinite;
}

#secretName {
  position: fixed;
  bottom: 2px;
  right: 8px;
  font-family: 'Dancing Script', cursive;
  font-size: 16px;
  color: rgba(90, 15, 46, 0.75); /* slightly visible */
  opacity: 0;
  transition: opacity 1.5s ease;
  pointer-events: none;
  z-index: 999;
}
/* 
#finalLine {
  margin-top: 8px;
  font-size: 14px;
  color: #5a0f2e;
  opacity: 0;
  transition: opacity 2s ease;
  font-family: 'Kalam', cursive;
} */

@keyframes heartBeat {
  0% { transform: scale(1); }
  25% { transform: scale(1.04); }
  50% { transform: scale(1); }
  75% { transform: scale(1.03); }
  100% { transform: scale(1); }
}
.heartbeat {
  animation: heartBeat 1s ease;
}


#petal-bg {
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  overflow: hidden;
}

/* Individual petals */
.petal {
  position: absolute;
  top: -10%;
  font-size: 20px;
  opacity: 0.25; /* ğŸŒ¸ LIGHT */
  animation: fall linear infinite;
  filter: blur(0.3px);
}

@keyframes fall {
  0% {
    transform: translateY(-10vh) rotate(0deg);
  }
  100% {
    transform: translateY(110vh) rotate(360deg);
  }
}

.card {
  position: relative;
  z-index: 2;
}

/* #finalLine {
  opacity: 0;
  transition: opacity 2s ease;
} */


#page8 {
  text-align: center;
  padding: 60px 40px;
  animation: fadeInSoft 2s ease;
}

@keyframes fadeInSoft {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}


/*Fade*/
#page8 {
  text-align: center;
  padding: 40px;
}

#page8 h1 {
  color: #5a0f2e;
  font-size: 28px;
  margin-bottom: 20px;
}

#page8 p {
  color: #6b1b3a;
  font-size: 16px;
  line-height: 1.8;
}

/* Fade control */
.fade-page {
  opacity: 0;
  transition: opacity 2s ease;
}

.fade-page.show {
  opacity: 1;
}

/* 
gift */

/* ğŸ“± MOBILE ONLY â€“ shrink gift page card */
@media (max-width: 768px) {

/* Target only gift page */
#page3 {
  transform: scale(0.9);
  transform-origin: top center;
}

/* Reduce padding so content fits */
.card {
  padding: 16px;
}

/* Gifts spacing tighter */
.gifts {
  gap: 15px;
}

.gift {
  padding: 12px;
}

.gift img {
  width: 80px;
}

#page3 h1 {
  font-size: 20px;
}
}

.petal {
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  width: 44px;   /* adjust if needed */
  height: 44px;
}

.petal {
  position: fixed;
  top: -40px;
  width: 34px;
  height: 34px;

  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;

  pointer-events: none;

  animation-name: leafFall, leafSway;
  animation-timing-function: linear, ease-in-out;
  animation-iteration-count: 1, infinite;
}

@keyframes leafFall {
  0% {
    top: -40px;
    opacity: 0.5;
  }
  10% {
    opacity: 0.5;
  }
  100% {
    top: 110vh;
    opacity: 0.5;
  }
}

@keyframes leafSway {
  0% {
    transform: translateX(0) rotate(0deg);
  }
  25% {
    transform: translateX(-20px) rotate(15deg);
  }
  50% {
    transform: translateX(20px) rotate(-15deg);
  }
  75% {
    transform: translateX(-10px) rotate(10deg);
  }
  100% {
    transform: translateX(0) rotate(0deg);
  }
}





.unlock-btn {
  background: #fff;
  color: #b84a6a;
  border: 1.5px solid #f0c1cf;
  padding: 12px 30px;
  border-radius: 30px;
  font-size: 16px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.25s ease;
}

.unlock-btn:hover {
  color: #ffffff;
  background: #ff0000;
  border-color: #000000;
  letter-spacing: 2px;
}

.unlock-btn:active {
  transform: scale(0.97);
}
@media (max-width: 600px) {
  .unlock-btn {
    padding: 8px 2px;   /* shorter height & width */
    font-size: 14px;
    min-width: auto;       /* remove any forced width */
    width: 100px;
    border-radius: 24px;
  }
}



#pageWhy {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 16px;
}

#pageWhy .letter-box {
  width: 100%;
  max-width: 420px;        /* ğŸ‘ˆ keeps it card-sized on PC */
  max-height: 75vh;        /* ğŸ‘ˆ prevents screen overflow */
  padding: 20px;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
}
@media (max-width: 600px) {
  #pageWhy .letter-box {
    max-height: 90vh;
    padding: 16px;
  }

  #pageWhy .letter-text {
    font-size: 14.5px;
    max-height: 60vh;
  }
}


</style>
</head>

<body>

  <div id="petal-bg"></div>


<div class="card">

    <!-- PASSWORD -->

  <div id="lockScreen">
    <h1>Private Space ğŸ”’</h1>
    <p>Only for you GarruuğŸ’–</p>
    <input id="passInput" placeholder="Enter our secret codeğŸ¤«" />
    <br><br>
    <button class="unlock-btn" onclick="unlock()">Unlock ğŸ’</button>
    <p id="lockMsg"></p>

    <p id="selfDestruct" style="font-size:12px;opacity:0.6;margin-top:10px;">
      âš ï¸ This page will self-destruct if anyone else opens it
    </p>

  
  </div>

  <!-- PAGE 1 -->
  <div id="page1" class="hidden">
    <div class="teddy">
      <img id="teddyGif" src="src/bear-love.gif" />
    </div>

    <h1>Will you be my LifetimeğŸ˜‡?</h1>
    <p>Life is beautiful, but itâ€™s even better with you in it.</p>
    <p>Henaa.. Mera Chotu Baccha...ğŸ˜‰</p>
    <p id="message"></p>

    <div class="buttons">
      <button id="yes">YES ğŸ’–</button>
      <button id="no">NO ğŸ˜</button>
    </div>
  </div>

  <!-- Hidden message 2 -->
  <div id="secretMsg" class="hidden">
    <div class="letter-box">
      <h1>Shhh....ğŸ¤«ğŸ’–</h1>
      <p class="letter-text">
      This message is only for you ğŸ§¸<br><br><br>
        I like Youâ¤ï¸ Soo Much Garima Ji.<br><br><br><br>
        And mai jaldi hi aapse milne aaunga<br> PINKY WALA PROMISEğŸ¤ 
        <br>
      </p>
      <button class="back-btn" onclick="document.getElementById('secretMsg').classList.add('hidden')">
        Close
      </button>
    </div>
  </div>

  <!-- PAGE 2 -->
  <div id="page2" class="hidden">
    <div class="teddy1">
      <img src="src/lovecutie0.gif" />
    </div>

    <h1>Happy Valentineâ€™s Day Mannu Ji ğŸ’–</h1>
    <p><b>Garru Ji</b>, You are my comfort, my smile, my everything.</p>

    <button class="red-btn" id="giftBtn">Check your gifts ğŸ</button>
  </div>

  <!-- PAGE 3 -->
  <div id="page3" class="hidden">
    <h1>Some Surprises ğŸ for You</h1>

    <div class="gifts">
      <div class="gift" onclick="openQuiz()">
        <img src="src/dudu-hearts-gif.gif">
        <p>Gift 1</p>
      </div>

      <div class="gift" onclick="openLetter()">
        <img src="src/DUDUletter.gif">
        <p>Gift 2</p>
      </div>

      <div class="gift" onclick="openGallery()">
        <img src="src/bubu-dudu-flower-gift.gif">
        <p>Gift 3</p>
      </div>
    </div>
    <!--for hidden msg -->
    <button class="red-btn" onclick="openWhyYou()">Why You? ğŸ’–</button>

  </div>


  <div id="pageWhy" class="hidden">
    <div class="letter-box">
      <h1>Why You? ğŸ’•</h1>
      <p class="letter-text">
        Because when I close my eyes and imagine  you, it feels like Sukoon.<br>
        Because my laughs sound better with you.<br>
        Because your Natkhat little shararatein somehow make me feel complete.<br>
        Because there are a thousand things left to sayâ€¦<br>
        and this page still feels too small for all of them.<br>
        <br>
        And honestlyâ€¦<br> 
        My heartâ¤ï¸ chose you long before I even realized it.
        
      </p>
      <button class="back-btn" onclick="whyBack()">â¬… Back to Gifts</button>
    </div>
  </div>
 <!-- PAGE 4 (QUIZ) -->
<div id="page4" class="hidden">
    <div class="quiz-box">
      <h1>Quiz for you ğŸ˜</h1>
  
      <p id="question"></p>
  
      <div id="options"></div>
  
      <p id="feedbackMsg" style="margin-top:15px;font-weight:bold;"></p>
  
      <button class="back-btn" onclick="quizBack()">â¬… Back</button>
    </div>
  </div>
  <!-- PAGE 5 (QUIZ RESULT) -->
    <div id="page5" class="hidden">
        <div class="quiz-box">
        <h1>Yaaay! Natkhat ğŸ¥°ğŸ’–</h1>
    
        <p style="font-size:16px;">
            You passed the test ğŸ‰ <br><br>
            That means you really like meâ€¦  
            <br>or maybe you <b>love me a lot</b> â¤ï¸
        </p>
    
        <p style="margin-top:15px;">
            Actually, I already knew the answers. MotuğŸ˜‰
        </p>
    
        <button class="back-btn" onclick="resultBack()">â¬… Back to Gifts</button>
        </div>
    </div>
        <!-- PAGE 6 (LOVE LETTER) -->
    <div id="page6" class="hidden">
        <div class="letter-box">
        <h1>My L . . e ğŸ’Œ</h1>
    
        <div class="letter-scroll">
        <p class="letter-text" id="letterText"></p>
        </div>

        <button class="red-btn" id="readMoreBtn" onclick="revealLine()">
          Read more ğŸ’Œ
        </button>   

<!-- Removing for one liner

        <p class="letter-text">
            Hey Jaaaan,<br><br>
    
            I donâ€™t know when it happened Mannu Ji,<br>
            but somewhere between the smiles,
            the silences â€”
            you became my everything.<br><br>
            Thankyou for being my person. I wish to hold your hands each and every moment Iâ€™m so sorry for irritating you sometimes ğŸ˜„
    
            Liking / Loving you feels easy.
            Being with you feels right.
            And imagining my future without you
            feels impossible. â¤ï¸<br><br>
    
            Yours, always and forever ğŸ’–<br>
            Your Mann
        </p>
      -->
        <button class="back-btn" onclick="letterBack()">â¬… Back to Gifts</button>
        </div>
    </div>
    <!-- PAGE 7 (MEMORY GALLERY) -->
    <div id="page7" class="hidden">
    <h1>Our Memories ğŸ“¸ğŸ’–</h1>
  
    <div class="gallery">
        <div class="photo-frame">
            <img src="src/img1.jpeg" onclick="openViewer(this)">
            <span>Us ğŸ’–</span>
          </div>
        
          <div class="photo-frame">
            <img src="src/img2.jpeg" onclick="openViewer(this)">
            <span>That day ğŸ¥°</span>
          </div>
        
          <div class="photo-frame">
            <img src="src/img3.jpeg" onclick="openViewer(this)">
            <span>My fav Touch ğŸ˜</span>
          </div>
        
          <div class="photo-frame">
            <img src="src/img4.jpeg" onclick="openViewer(this)">
            <span>Always you â¤ï¸</span>
          </div>
        
          <div class="photo-frame">
            <img src="src/img6.jpeg" onclick="openViewer(this)">
            <span>Forever âœ¨</span>
          </div>
        
          <div class="photo-frame">
            <img src="src/img5.jpeg" onclick="openViewer(this)">
            <span>Heart = stolenğŸ’</span>
          </div>
    </div>
     <!-- gallery line 
    <p id="finalLine">
      You donâ€™t have to click anything else.<br>
      This was always for you.
    </p>
    -->

    <button class="back-btn" onclick="galleryBack()">â¬… Back to Gifts</button>
  </div>
  
  <!-- PAGE 8 (WHEN YOU MISS ME) -->
  <div id="page8" class="hidden fade-page">
    <h1>Hey SweetHeart...</h1>
    <p>
      If youâ€™re missing me right nowâ€¦<br><br>
      I am toooo 3 4 5...âˆ Missing Yuuhhh Baby... ğŸ’
    </p>
  </div>

</div>
<div id="imageViewer" class="image-viewer hidden">
    <span class="close-viewer" onclick="closeViewer()">Ã—</span>
    <img id="viewerImg">
  </div>


<script>
let missMeTimer;
let page8Visible = false;

window.addEventListener("load", () => {
  const finalLine = document.getElementById("finalLine");
  if (finalLine) {
    finalLine.style.opacity = "0";
  }

  const page8 = document.getElementById("page8");
  if (page8) {
    page8.classList.remove("show");
  }
});

window.addEventListener("load", () => {
  const page8 = document.getElementById("page8");
  if (page8) {
    page8.classList.remove("show"); // reset fade
  }
});


let noClicks = 0;

const noBtn = document.getElementById("no");
const yesBtn = document.getElementById("yes");
const msg = document.getElementById("message");

const page1 = document.getElementById("page1");
const page2 = document.getElementById("page2");
const page3 = document.getElementById("page3");
const page4 = document.getElementById("page4");
const page5 = document.getElementById("page5");
const page6 = document.getElementById("page6");
const page7 = document.getElementById("page7");
const page8 = document.getElementById("page8");

noBtn.onclick = () => {
  noClicks++;
  if (noClicks === 1) {
    teddyGif.src="src/dudu.gif";
    msg.innerText = "Think again ğŸ¥º";
    yesBtn.classList.add("big");
    noBtn.style.width = "120px";
  } else if (noClicks === 2) {
    teddyGif.src="src/breakRej0_1.gif";
    msg.innerText = "Are you sure? ğŸ˜¢";
    yesBtn.classList.add("bigger");
    noBtn.style.width = "50px";
  } else {
    teddyGif.src="src/breakRej1.gif";
    msg.innerText = "";
    yesBtn.classList.remove("bigger");
    yesBtn.classList.add("full");
    noBtn.style.display = "none";
  }
};

yesBtn.onclick = () => {
  page1.classList.add("hidden");
  page2.classList.remove("hidden");
  document.querySelector(".card").classList.add("heartbeat");
};

giftBtn.onclick = () => {
  page2.classList.add("hidden");
  page3.classList.remove("hidden");
};

function openQuiz() {
  page3.classList.add("hidden");
  page4.classList.remove("hidden");
}

function goBack() {
  page4.classList.add("hidden");
  page3.classList.remove("hidden");
}
</script>

<script>

//Before quiz gallary hidden

let quizPassed = false;
    /* ğŸ’˜ QUIZ DATA */
    const quizData = [
      {
        q: "What makes me smile instantly ğŸ˜œ",
        options: ["Work ğŸ˜´", "MusicğŸ¶", "Obviously You ğŸ’–"],
        correct: 2
      },
      {
        q: "What does â€œloveâ€ mean to me? âœ¨",
        options: ["You ğŸ’–" , "Care ğŸŒ¸" , "Feelings ğŸ’«"],
        correct: 0
      },
      {
        q: "What do I do when you get angry? ğŸ˜¤",
        options: ["Ignore you ğŸ˜¶", "Try everything to make you smile back ğŸ˜„", "Argue back ğŸ˜¤"],
        correct: 1
      }
    ];
    
    let currentQ = 0;
    
    const questionEl = document.getElementById("question");
    const optionsEl = document.getElementById("options");
    const feedbackMsg = document.getElementById("feedbackMsg");
    
    function openQuiz() {
      page3.classList.add("hidden");
      page4.classList.remove("hidden");
      currentQ = 0;
      loadQuestion();
    }
    
    function loadQuestion() {
      feedbackMsg.innerText = "";
      feedbackMsg.style.color = "";
      optionsEl.innerHTML = "";
      questionEl.innerText = quizData[currentQ].q;
    
      quizData[currentQ].options.forEach((opt, index) => {
        const div = document.createElement("div");
        div.className = "quiz-option";
        div.innerText = opt;
        div.onclick = () => checkAnswer(index, div);
        optionsEl.appendChild(div);
      });
    }
    
    function checkAnswer(index, el) {
      if (index === quizData[currentQ].correct) {
        el.classList.add("correct");
        feedbackMsg.style.color = "green";
        feedbackMsg.innerText = "Yes, it is correct ğŸ’–";
    
        setTimeout(() => {
          currentQ++;
          if (currentQ < quizData.length) {
            loadQuestion();
          } else {
            // ğŸ After last question â†’ back to gifts
            page4.classList.add("hidden");
            page5.classList.remove("hidden");
            quizPassed = true;
          }
        }, 900);
      } else {
        feedbackMsg.style.color = "red";
        feedbackMsg.innerText = "Select the correct one ğŸ˜â¤ï¸";
      }
    }
    
    function quizBack() {
      page4.classList.add("hidden");
      page3.classList.remove("hidden");
    }
    function resultBack() {
  page5.classList.add("hidden");
  page3.classList.remove("hidden");
}
function openLetter() {
  page3.classList.add("hidden");
  page6.classList.remove("hidden");

  // reset letter
  lineIndex = 0;
  letterBox.innerHTML = "";

  // show button again
  document.getElementById("readMoreBtn").style.display = "inline-block";
}

function letterBack() {
  page6.classList.add("hidden");
  page3.classList.remove("hidden");
}

function openGallery() {
  page3.classList.add("hidden");
  page7.classList.remove("hidden");

  setTimeout(() => {
  const finalLine = document.getElementById("finalLine");
  if (finalLine) finalLine.style.opacity = "1";
}, 2500);
}

function galleryBack() {
  page7.classList.add("hidden");
  page3.classList.remove("hidden");
}

/* ğŸï¸ Random Polaroid Tilt */
function randomTilt() {
  const frames = document.querySelectorAll(".photo-frame");
  frames.forEach(frame => {
    const tilt = (Math.random() * 8 - 4).toFixed(2); // -4deg to +4deg
    frame.style.transform = `rotate(${tilt}deg)`;
  });
}

/* Run when gallery opens */

//Old funciton
/*
function openGallery() {
  page3.classList.add("hidden");
  page7.classList.remove("hidden");
  randomTilt();
}*/


function openGallery() {
  if (!quizPassed) {
    alert("Earn the memories first Garru Ji, by completing the QUIZğŸ˜ğŸ’–");
    return;
  }
  page3.classList.add("hidden");
  page7.classList.remove("hidden");
  page7.style.opacity = "1";
  randomTilt();

  // ğŸŒ™ Show final emotional line after delay
  setTimeout(() => {
    const finalLine = document.getElementById("finalLine");
    if (finalLine) {
      finalLine.style.opacity = "1";
    }
  }, 2500);

    // ğŸ” RESET miss-me page every time gallery opens
    const page8 = document.getElementById("page8");
  page8.classList.remove("show");
  

  startMissMeTimer();
  registerGalleryActivity();
}


/* ğŸ” Fullscreen View */
const viewer = document.getElementById("imageViewer");
const viewerImg = document.getElementById("viewerImg");

function openViewer(img) {
  viewerImg.src = img.src;
  viewer.classList.remove("hidden");
}

function closeViewer() {
  viewer.classList.add("hidden");
}


/* Long pPress*/

document.addEventListener("DOMContentLoaded", () => {

let pressTimer;
const teddy = document.getElementById("teddyGif");
const secret = document.getElementById("secretMsg");

if (!teddy) {
  console.log("âŒ Teddy not found");
  return;
}

function startPress() {
  pressTimer = setTimeout(() => {
    secret.classList.remove("hidden");
  }, 2000);
}

function cancelPress() {
  clearTimeout(pressTimer);
}

// Desktop
teddy.addEventListener("mousedown", startPress);
teddy.addEventListener("mouseup", cancelPress);
teddy.addEventListener("mouseleave", cancelPress);

// Mobile
teddy.addEventListener("touchstart", startPress);
teddy.addEventListener("touchend", cancelPress);

});


// password

//const secretCode = "the ag chapter"; // lowercase (case-insensitive)
const secretCode = "the ag chapter"; // lowercase (case-insensitive)

let attempts = 0;

function unlock() {
  const input = document
    .getElementById("passInput")
    .value
    .trim()
    .toLowerCase();

  const msg = document.getElementById("lockMsg");

  if (input === secretCode) {
    attempts = 0; // reset
    document.getElementById("lockScreen").classList.add("hidden");
    document.getElementById("page1").classList.remove("hidden");
  } else {
    attempts++;

    if (attempts === 1) {
      msg.innerText = "Hmmâ€¦ think again ğŸ˜ğŸ’–";
    } 
    else if (attempts === 2) {
      msg.innerText = "Hint ğŸ¤«: our couple page name ğŸ˜‰";
    } 
    else {
      msg.innerText = "Youâ€™re sooo close (Try it with Space between each word)ğŸ’–";
    }

    msg.style.color = "#ff4d6d";
  }
}

// self des joke
setTimeout(() => {
  const sd = document.getElementById("selfDestruct");
  if (sd) {
    sd.innerText = "Just kidding ğŸ˜ but stillâ€¦ only for you ğŸ’–";
  }
}, 4000);

//Hidden msg

const pageWhy = document.getElementById("pageWhy");

function openWhyYou() {
  page3.classList.add("hidden");
  pageWhy.classList.remove("hidden");
}

function whyBack() {
  pageWhy.classList.add("hidden");
  page3.classList.remove("hidden");
}


//One lineerrrr

const letterLines = [
  "Hey Jaaaan,",
  "",
  "I donâ€™t know when it happened Mannu Ji,",
  "but somewhere between the smiles and silences â€”",
  "you became my everything.",
  "",
  "Thankyou for being my person. I wish to hold your hands each and every moment Iâ€™m so soo sorry for irritating you sometimes ğŸ˜„",
  "Liking / Loving you feels easy.",
  "Being with you feels right.",
  "And imagining my future without you feels impossible.",
  "",
  "Yours. Always and Forever ğŸ’–",
  "Your Mann"
];

let lineIndex = 0;
const letterBox = document.getElementById("letterText");

function revealLine() {
  if (lineIndex < letterLines.length) {
    letterBox.innerHTML += letterLines[lineIndex] + "<br>";
    lineIndex++;

    // ğŸ§  If last line reached â†’ hide button
    if (lineIndex === letterLines.length) {
      document.getElementById("readMoreBtn").style.display = "none";
    }
  }
}

let idleTimer;

document.addEventListener("mousemove", () => {
  document.getElementById("secretName").style.opacity = "0";
  clearTimeout(idleTimer);

  idleTimer = setTimeout(() => {
    document.getElementById("secretName").style.opacity = "1";
  }, 4000); // appears after 4 seconds of stillness
});



let secretTimer;

function resetSecretAnchor() {
  document.getElementById("secretName").style.opacity = "0";
  clearTimeout(secretTimer);

  secretTimer = setTimeout(() => {
    document.getElementById("secretName").style.opacity = "1";
  }, 3500); // appears after stillness
}

// Trigger on meaningful actions only
document.addEventListener("click", resetSecretAnchor);
document.addEventListener("scroll", resetSecretAnchor);

function dropPetal() {
  const petal = document.createElement("div");
  petal.className = "petal";
  // petal.innerText = "ğŸŒ¹";
  petal.style.backgroundImage = "url('./rose.png')";

  petal.style.animationDelay = Math.random() * 8 + "s";
  petal.style.left = Math.random() * 100 + "vw";
  petal.style.animationDuration = 8 + Math.random() * 6 + "s";
  petal.style.fontSize = 14 + Math.random() * 10 + "px";

  document.getElementById("petal-bg").appendChild(petal);

  setTimeout(() => {
    petal.remove();
  }, 15000);
}

setInterval(dropPetal, 1800);



function startMissMeTimer() {
  clearTimeout(missMeTimer);

  missMeTimer = setTimeout(() => {
    showPage8();
  }, 12000); // â³ 8 seconds of staying
}

function showPage8() {
  if (page8Visible) return;
  if (page7.classList.contains("hidden")) return;

  page8Visible = true;

  page7.classList.add("hidden");

  const page8 = document.getElementById("page8");
  page8.classList.remove("hidden");

  setTimeout(() => {
    page8.classList.add("show");
  }, 50);

  page8.addEventListener("mousemove", returnToGallery, { once: true });
  page8.addEventListener("touchstart", returnToGallery, { once: true });
  page8.addEventListener("click", returnToGallery, { once: true });
}

function returnToGallery() {
  if (!page8Visible) return;

  const page8 = document.getElementById("page8");

  page8.classList.remove("show");

  setTimeout(() => {
    page8.classList.add("hidden");
    page7.classList.remove("hidden");

    page8Visible = false;

    // â³ Start waiting again
    startMissMeTimer();
  }, 800);
}


// function startMissMeTimer() {
//   clearTimeout(missMeTimer);

//   if (missMeShown) return;

//   missMeTimer = setTimeout(() => {
//     missMeShown = true;

//     // hide gallery
//     page7.classList.add("hidden");

//     // show + fade in secret page
//     const page8 = document.getElementById("page8");
//     page8.classList.remove("hidden");   // â­ THIS WAS MISSING
    
//     setTimeout(() => {
//       page8.classList.add("show");


//       // ğŸ§² Attach listeners
//       page8.addEventListener("mousemove", returnToGallery, { once: true });
//       page8.addEventListener("touchstart", returnToGallery, { once: true });
//       page8.addEventListener("click", returnToGallery, { once: true });

//     }, 50);

//   }, 8000);
// }

// function returnToGallery() {
//   const page8 = document.getElementById("page8");

//   // fade out page8
//   page8.classList.remove("show");

//   setTimeout(() => {
//     page8.classList.add("hidden");

//     // show gallery again
//     page7.classList.remove("hidden");

//     // reset timer so it doesn't auto-open again
//     missMeShown = true;
//   }, 800);
// }


function registerGalleryActivity() {
  ["mousemove", "touchstart", "click", "scroll"].forEach(event => {
    page7.addEventListener(event, () => {
      if (!page7.classList.contains("hidden")) {
        clearTimeout(missMeTimer);
        startMissMeTimer();
      }
    });
  });
}




    </script>
    
    
    <div id="secretName">Aman & Garima</div>

 
</body>
</html>
